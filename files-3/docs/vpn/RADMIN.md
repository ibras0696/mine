# Подключение игроков к серверу через Radmin VPN

Этот документ описывает, как организовать доступ к Minecraft-серверу по Radmin VPN. Radmin VPN создаёт виртуальную локальную сеть, позволяя игрокам подключаться по приватному IP без открытия портов наружу.

## 1. Требования

- Windows или Linux-хост, на котором запущен Docker-стек сервера.
- Установленный Radmin VPN на хосте и у всех игроков.
- Созданная Radmin-сеть с правами администратора у владельца сервера.

## 2. Настройка хоста (владельца сервера)

1. **Установка Radmin VPN**
   - Скачайте установщик с [официального сайта](https://www.radmin-vpn.com/ru/).
   - Установите и запустите Radmin VPN.

2. **Создание частной сети**
   - В окне Radmin VPN выберите «Создать сеть».
   - Задайте название сети (например, `MC-Forge`) и сложный пароль.
   - После создания сеть появится в списке.

3. **Определение VPN-адреса**
   - В списке участников сети найдите свою запись (обычно вверху).
   - Скопируйте отображаемый IP-адрес — он понадобится игрокам. Пример: `26.123.45.67`.

4. **Конфигурация `.env`**
   - Откройте файл `.env` в корне проекта.
   - Установите переменную `RADMIN_VPN_IP` в значение, скопированное на предыдущем шаге.
   - Перезапустите сервер (`make up` или `make restart`) после изменения `.env`.

> ⚠️ В репозитории значение `RADMIN_VPN_IP` заполнено базовым шаблоном. Обязательно замените его на свой реальный адрес перед запуском.

## 3. Подключение игроков

1. **Установка Radmin VPN**
   - Каждому игроку нужно установить Radmin VPN (доступно для Windows; для Linux можно использовать Wine или аналоги).

2. **Подключение к сети**
   - В Radmin VPN выберите «Подключиться к сети».
   - Введите название сети и пароль, которые сообщил владелец.
   - После подключения в списке участников появится администратор с его VPN-IP.

3. **Запуск Minecraft**
   - Убедитесь, что установлен Minecraft Forge 1.20.1 с набором модов, соответствующим серверу.
   - В меню мультиплеера добавьте новый сервер:
     - Адрес сервера: `RADMIN_VPN_IP:25565`
     - Имя — произвольное (например, `Forge Radmin`).
   - Подключитесь к серверу. Пинг может быть немного выше, чем при прямом подключении, но порт открыт только внутри VPN.

## 4. Диагностика проблем

| Проблема | Возможная причина | Решение |
|----------|-------------------|---------|
| Игрок не видит сеть | Неверный пароль или имя сети | Проверьте регистр символов, повторите попытку |
| Пинг слишком высокий | Игрок или сервер далеко от VPN-хоста | Рассмотрите альтернативный VPN или хост ближе к игрокам |
| Сервер недоступен, статус «Offline» | `RADMIN_VPN_IP` не обновлён или контейнер не запущен | Перепроверьте IP в `.env`, выполните `make status` |
| Игрок подключён к VPN, но не видит сервер | У клиента отсутствуют нужные моды или другая версия Forge | Сверьте мод-пак и версии |

## 5. Совет по безопасности

- Регулярно меняйте пароль Radmin-сети и удаляйте неактивных участников.
- Не публикуйте название и пароль сети в открытых источниках.
- При необходимости включите whitelist на сервере (переменные `ENABLE_WHITELIST`, `WHITELIST` в `.env`).

---

При корректной настройке Radmin VPN позволяет безопасно запускать приватный сервер без проброса портов и без аренды статического IP.
